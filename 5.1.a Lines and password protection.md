### Lines
* Console port (cty) line – used for local system access using console terminal (line con 0)  
* Auxiliary port (aux) line – used for remote access into the device through a modem (line aux 0)  
* Virtual terminal (vty) line – used for remote Telnet and SSH connections (line vty 0 4)  
* Highly recommended to use AAA server, fallback for username-based authentication, and not recommended for password configured directly on the line  


### Password Types
* Type 0 – not encrypted and visible in the device configuration in plaintext (**enable password**)
* Type 5 – improved Cisco proprietary encryption algorithm using MD5 hashing (**enable secret**). Not reversible (uncrackable) and only way to crack is to use brute-force attacks
* Type 7 – Cisco proprietary Vigenere cypher encryption algorithm. Weak and easy to crack with password utilities (**service password-encryption** – uses type 0 passwords: **enable password, username password, line password**)
  * Prevents unauthorized users from viewing the password
  * Passwords configured prior to the command are not encrypted and must be reentered
*  Type 8 – Password-Based Key Derivation Function 2 (PBKDF2) with SHA-256 hashed secret, considered to be uncrackable
*  Type 9 – SCRYPT hashing algorithm, uncrackable


### Username and Password Authentication  
* Usernames configured from global configuration mode are stored in device’s configuration  
* Login accounts can be assigned different privilege levels and passwords:  
1. Type 0:  
> **username (*name*) password (*password*)**  
2. Type 5:  
> **username (*name*) secret (*secret*)**  
3. Type 5, type 8, or type 9:  
> **username (*name*) algorithm-type {md5 | sha256 | scrypt} secret (*secret*)**  
4. Enable password checking at login:  
> **login**  
5. Enable username-based authentication at login:  
> **login local**   


### Privilege Levels and Role-Based Access Control (RBAC)  
* Level 0 - **disable, enable, exit, help, logout**  
* Level 1 – User EXEC mode (**R1>**), not possible to make configuration changes (**config t**)  
* Level 15 – Privileged EXEC mode (**R1#**), all CLI commands are available  
* All levels from 2 to 14 can be configured:  
> **privilege (*mode*) level (*#*) {*command string*}**  
* Example:  
> **username noc privilege 5 algorithm-type scrypt secret cisco123**  
> **privilege exec level 5 configure terminal**  
> **privilege configure level 5 interface**  
> **privilege interface level 5 shutdown**  
> **privilege interface level 5 no shutdown**  
> **privilege interface level 5 ip address**  


### Controlling Access to vty Lines with ACLs  
* Best practice – only allow IP address that are part of an internal or trusted network to access vty lines
* Apply standard or extended ACL to vty line:  
> **access-class {(*access-list-number* | *name*) (in | out)}**  
> **access-list 1 deny (*ip address*)**  
> **access-list 1 permit any**  
> **line vty 0 4**  
> **access-class 1 in**  
> **show running-config|section line vty**  
* Type of protocols allowed – **transport input {all | none | telnet | SSH}**  


### SSHv1, SSHv2  
1. Configure hostname other than Router:  
> **hostname (*hostname*)**  
2. Configure domain name  
> **ip domain-name (*domain-name*)**  
3. Generate crypto keys (at least 768 bits modulus for SSHv2):  
> **crypto key generate rsa**  
* Aux port – should be disabled with **no exec** under line aux 0  
* EXEC Timeout – session is not terminated by default (default is 10 minutes). To set:  
> **exec-timeout (*minutes*) (*seconds*)**  
* Absolute Timeout – terminates an EXEC session after specified timeout period has expired, even if connection is being used at time of termination:  
> **absolute-timeout (*minutes*)**  
* To warm about forced timeout:  
> **logout-warning (*seconds*)**  



