## VLAN Trunking Protocol  
* Server – responsible for creation, modification, and deletion of VLANs within VTP domain  
* Client – receives VTP advertisements and modified VLANs on switch. VLANs cannot be configured locally on VTP client  
* Transparent – receives and forwards VTP advertisements but do not modify local VLAN database. VLANs are configured locally  
* Off – does not participate in VTP advertisements and does not forward out of any ports  
* VTP v1 and v2 range 1 – 1005, VTP v3 range 1 – 4094  


## VTP Communication  
* Advertises updates using multicast address across the trunk links:  
  * Summary – occurs every 300 seconds or when a VLAN is added, removed, or changed. Includes VTP version, domain, configuration revision number, and time startup  
  * Subset – occurs after a VLAN configuration change occurs. Contains all relevant information for switches to make changes to the VLANs  
  * Client requests – request by client to receive more detailed subset advertisement. Occurs when switch with lower revision number joins VTP domain and observes a summary advertisement with a higher revision than it has stored locally  


## VTP Configuration  
1. Define VTP version:  
> **vtp version {1 | 2 | 3}**  
2. Define VTP domain (changing VTP domain resets local switch version to 0):  
> **vtp domain (*domain-name*)**  
3. Define VTP switch role:  
> **vtp mode {server | client | transparent | none}**  
4. (Optional) Secure VTP domain:  
> **vtp password (*password*)**  
5. To verify VTP:  
> **show vtp status**  


## Dynamic Trunking Protocol (DTP)  
* Established by switch port sending DTP packets to negotiate with the other end  
* Advertises itself every 30 seconds to neighbors  
  * Trunk – statically places switch port as a trunk and advertises DTP packets to the other end:  
  > **switchport mode trunk**  
  * Dynamic desirable – switch port acts as an access port, but listens for and advertises DTP packets to the other end:  
  > **switchport mode dynamic desirable**  
  * Dynamic auto – switch port acts as an access port, but listens and respond to DTP packets:  
  > **switchport mode dynamic auto**  
  
|                   | Trunk | Dynamic Desirable | Dynamic Auto |
| :---:             | :---: |   :---:           |   :---:      |
| Trunk             |    ✓  |    ✓             |   ✓          |
| Dynamic Desirable | ✓     |   ✓              |   ✓          |
| Dynamic Auto      | ✓     |   ✓              |      x       |  

* to show trunk port status:  
> **show interface [*int-id*] trunk**  
* To prevent port from forming trunk port with dynamic desirable or dynamic auto:  
> **switchport nonegotiate**  



