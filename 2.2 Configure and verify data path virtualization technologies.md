## Network Functions Virtualization (VNF)  
* Architectural framework created by the European Telecommunications Standards Institute (ETSI)  
* Defines standards to decouple network functions from proprietary hardware-based appliances  
* Defines how to manage and orchestrate network functions  
* Network function (NF) – function performed by physical appliance  
  * Reduced capital expenditure (capex) and operational expenditure (opex) through reduced equipment costs and efficiencies in space, power, and cooling  
  * Faster time to market (TTM) – VMs and containers are easier to deploy than hardware  
  * Improved return on investment (ROI) from new services  
  * Ability to scale up/out and down/in capacity on demand (elasticity)  
  * Openness to virtual appliance market and pure software networking vendors  
  * Opportunities to test and deploy new innovative services virtually and with lower risk  


## NFV Infrastructure (NFVI)  
* hardware and software components that comprise the platform environment in which Virtual Network Functions (VNFs) are deployed  


## Virtual Network Function (VNF)  
* virtual or software version of an NF, runs on hypervisor as VM  
* Used for Layer 4 – Layer 7 functions  


## Virtualized Infrastructure Manager (VIM)  
* Manages and controls NFVI hardware and virtual resources  
* Responsible for collection of performance measurements and fault information  
* Performs lifecycle management of all NFVI resources and VNF service chaining  


## Element Managers (Ems) or Element Management Systems (EMSs)  
  * Responsible for functional management of VNFs  
  * Performs fault, configuration, accounting, performance, and security (FCAPS) functions  
  * Single EM can manage one or multiple VNFs, and EM can be VNF  


## Management and Orchestration (MANO)  
* Responsible for creating, maintain, and tearing down VNF network services  
* Enables creation of an end-to-end network service over multiple VNFs if they are part of a network service  
* VNF manager manages lifecycle of one or multiple VNFs, and FCAPS for the virtual components of VNF  


## Operations Support System (OSS)/Business Support System (BSS)  
* OSS operated by service providers and large enterprise networks to support all of their network systems and services  
* OSS maintains network inventory, provisioning new services, configuring network devices, and resolving network issues  
* Operates in tandem with BSS  
* BSS is a combination of product management, customer management, revenue management, and order management systems  


## VNF Performance  
* North-south traffic comes into hosting server through physical NIC and is sent to VNF, then sent from VNF back out to physical wire through the pNIC  
* East-west traffic comes into hosting server through pNIC and is sent to VNF, and could be sent to another VNF (service chained) or more and then back out to physical wire through the pNIC  
  * Input/Output (I/O) – communication between computing system and outside world. Input is data received, and output is data sent  
  * I/O device – peripheral device  
  * Interrupt request (IRQ) – hardware signal sent to CPU by I/O device notifies CPU when it has data to transfer. When CPU receives IRQ, it saves its state, temporarily stops what its doing, and runs an interrupt handler routine associated to device  
  * Device driver – computer program that controls I/O device  
  * Direct memory access (DMA) – allows I/O device to send or receive data directly or from main memory, bypassing CPU, to speed up overall computer operations  
  * Kernel and user space – core part of OS and memory area where applications and libraries reside. Kernel is a program that is the core part of OS and manages hardware and provides services to applications. Non-kernel processes are executed in user space, where applications reside  


## OVS-DPDK  
* OVS enhanced with Data Plane Development Kit (DPDK) libraries  
* Operates in user space  
* DPDK Poll Mode Driver (PMD) in OVS pools for data that comes into pNIC and processes it, bypassing network stack and the need to send an interrupt to CPU when a packet is received (bypasses kernel)  


## PCI Passthrough  
* Allows VNFs to have direct access to physical PCI devices  
  * Exclusive one-to-one mapping  
  * Bypassed hypervisor  
  * Direct access to I/O resources  
  * Reduced CPU utilization and system latency  
  * Increased I/O throughput  
* Downside to passthrough is that the entire pNIC is dedicated to a single VNF and cannot be used by other VNFs  


## SR-IOV  
* Enhancement to PCI passthrough – allows multiple VNFs to share the same pNIC  
* Emulates multiple PCIe devices on a single PCIe device  
  * Virtual Functions (VFs) – emulated PCIe devices  
  * Physical Functions (PFs) – physical PCIe devices  
  * Virtual Ethernet Bridge (VEB) – traffic between VNFs attached to same pNIC is hardware switched directly by the pNIC  
  * Virtual Ethernet Port Aggregator (VEPA) – traffic between VNFs attached to same pNIC is switched by external switch  


## Cisco Enterprise Network Functions Virtualization (ENFV)  
* Based on ETSI NFV architectural framework  
* Reduces operational complexity of enterprise branch environments by running required networking functions as VNFs on x86-based hosts  
  * Reduces number of physical devices to be managed at branch  
  * Reduces need for truck rolls and technician site visits to perform hardware installations or upgrades  
  * Offers operational simplicity that allows it to roll out new services, critical updates, VNFs, and branch locations in minutes  
  * Centralized management through Cisco DNA Center  
  * Enhances network operations flexibility by taking full advantage of virtualization techniques  
  * Supports Cisco SD-WAN cEdge and vEdge virtual router onboarding, and third-party VNFs  


## Cisco ENFV Solution Architecture  
* Four main components based on ETSI NFV architectural framework:  
  * Management and Orchestration (MANO) – provides VNF management and NFV orchestration capabilities. Allows for easy automation of deployment of virtualized network services, consisting of multiple VNFs  
  * VNFs – provides desired virtual networking functions  
  * Network Functions Virtualization Infrastructure Software (NFVIS) – OS that provides virtualization capabilities of VNFs and hardware components  
  * Hardware resources – x86-based compute resources that provide CPU, memory, and storage required to deploy and operate VNFs  
  
* Management and Orchestration:  
  * Configuration for LAN and WAN virtual interfaces  
  * Services or VNFs to be used and their requirements  
  * Device configuration required for VNFs, can be customized using templates  


## Network Function Virtualization Infrastructure Software (NFVIS)  
* Based on Linux packaged with additional functions for virtualization, VNF lifecycle management, monitoring, device programmability, and hardware acceleration  
  * Linux – drives underlying hardware platforms and hosts virtualization layer for VNFs, virtual switching API interfaces, interface drivers, platform drivers, and management  
  * Hypervisor – base don Kernel-based Virtual Machine (KVM)  
  * Virtual switch (vSwitch) – Open vSwitch (OVS), enables communication between different VNFs (service chaining) and to outside world  
  * VM lifecycle management – Elastic Services Controller (ESC) Lite supports dynamic bring-up of VNF. Includes built-in VNF monitoring capability that allows for auto restart of VNFs  
  * Plug and Play client – automates bringing up of any NFVIS-based host. Enables a true zero-touch deployment model  
  * Orchestration – REST, CLI, HTTPS, and NETCONF/YANG supported  
  * HTTPS web server – enable connectivity into NFVIS through HTTPS to a local device’s web portal  
  * Device Management – tools are packaged into NFVIS to support device management  
  * Role-based access control (RBAC)  


> [*Back*](https://github.com/network-dluong/CCNP-ENCOR/tree/2.0-Virtualization)  
